#!/bin/bash
#Runs gobuster with the cmd line arguments -u and -t as arg 1 and 2, respectively,
#Place any other hyphen arguments after arg 1 and 2 and they will be placed appropriately.
#automatically uses medium word list
if [ -z $1 ] ; then
	>&2 echo "Usage: nutbuster <ip address> <threads> [gobuster - args]"
	exit 1
fi
overwrite="N"
test -f $PWD/${PWD##*/}.gobuster
if (("$?" == "0")); then
	echo "do you want to overwrite the file " $PWD/${PWD##*/}.gobuster "(Y/[N])"
	read overwrite
fi
if [ "$overwrite" != "Y" ] && [ "$overwrite" != "Yes" ] && [ "$overwrite" != "yes" ] && [ "$overwrite" != "YES" ] && [ "$overwrite" != "y" ] ; then
		echo "The output will be appended to the file instead of overwriting"
		echo "--------------------------------------------------------------" | tee -a $PWD/${PWD##*/}.gobuster
		echo "gobuster ${@:3} -u http://$1 -t $2 -w /usr/share/dirbuster/wordlists/directory-list-2.3-medium.txt > $PWD/${PWD##*/}.gobuster" | tee -a $PWD/${PWD##*/}.gobuster
		gobuster -u http://$1 -t $2 -w /usr/share/dirbuster/wordlists/directory-list-2.3-medium.txt  ${@:3} | tee -a $PWD/${PWD##*/}.gobuster
	else
		echo "The file will be overwritten"
		echo "gobuster ${@:3} -u http://$1 -t $2 -w /usr/share/dirbuster/wordlists/directory-list-2.3-medium.txt > $PWD/${PWD##*/}.gobuster" > $PWD/${PWD##*/}.gobuster
		gobuster -u http://$1 -t $2 -w /usr/share/dirbuster/wordlists/directory-list-2.3-medium.txt  ${@:3}  | tee $PWD/${PWD##*/}.gobuster
fi
